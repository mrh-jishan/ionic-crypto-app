{"version":3,"sources":["../../src/pages/favourite-coin/favourite-coin.module.ts","../../src/pages/favourite-coin/favourite-coin.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FavouriteCoinPage } from './favourite-coin';\n\n@NgModule({\n  declarations: [\n    FavouriteCoinPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FavouriteCoinPage),\n  ],\n})\nexport class FavouriteCoinPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/favourite-coin/favourite-coin.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, ToastController} from 'ionic-angular';\nimport {CoinProvider, SettingsProvider} from \"../../providers/providers\";\nimport {Storage} from \"@ionic/storage\";\nimport {ImageHelper} from \"../../helper/image.helper\";\nimport {PriceHelper} from \"../../helper/price.helper\";\nimport {ConverterPage} from \"../converter/converter\";\n\n/**\n * Generated class for the FavouriteCoinPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-favourite-coin',\n    templateUrl: 'favourite-coin.html',\n})\nexport class FavouriteCoinPage {\n\n    private coinList: any = [];\n    private loading: any;\n    private symbol: string;\n\n    constructor(private coinProvider: CoinProvider,\n                private loadingCtrl: LoadingController,\n                private imageHelper: ImageHelper,\n                private navCtrl: NavController,\n                private priceHelper: PriceHelper,\n                private settingsProvider: SettingsProvider,\n                public toastCtrl: ToastController,\n                public storage: Storage) {\n        this.loadCoin();\n        this.getSymbol();\n    }\n\n    private initLoading() {\n        this.loading = this.loadingCtrl.create({\n            content: 'Please wait...'\n        });\n    }\n\n    private async loadCoin(refresher?) {\n        this.initLoading();\n        await this.loading.present();\n        await this.storage.get('myFavourite').then(res => {\n            this.coinList = res;\n        })\n\n        if (refresher) refresher.complete();\n        this.loading.dismiss();\n    }\n\n    private getSymbol() {\n        const currency = this.settingsProvider.getCacheValue('currency');\n        this.symbol = currency.symbol;\n    }\n\n    private getPriceColor(price: number): string {\n        switch (Math.sign(price)) {\n            case 1:\n                return 'price-up';\n            case -1:\n                return 'price-down';\n            case 0:\n                return 'price-no-change';\n            default:\n                return 'price-no-change';\n        }\n    }\n\n    async removeFavourite(coin) {\n        var favorites = [];\n        await this.storage.get('myFavourite').then(res => {\n            if (res == null) {\n                favorites = [];\n            } else {\n                favorites = res.filter((element) => {\n                    return element.id !== coin.id;\n                });\n            }\n        });\n\n        await this.storage.set('myFavourite', favorites);\n        this.loadCoin();\n        this.presentToast();\n\n    }\n\n    presentToast() {\n        const toast = this.toastCtrl.create({\n            message: 'coin was removed successfully',\n            duration: 3000\n        });\n        toast.present();\n    }\n\n    GoConvert(coin) {\n        this.navCtrl.push(ConverterPage, {data: coin});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/favourite-coin/favourite-coin.ts"],"sourceRoot":""}