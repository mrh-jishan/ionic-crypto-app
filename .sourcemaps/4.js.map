{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [HomePage],\n  imports: [IonicPageModule.forChild(HomePage), ComponentsModule]\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, ToastController} from 'ionic-angular';\nimport {CoinProvider} from '../../providers/providers';\nimport {Storage} from \"@ionic/storage\";\n\n@IonicPage()\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html'\n})\nexport class HomePage {\n    private coinList: any = [];\n    private coinListFiltered: any = [];\n    private searchText: string;\n    private loading: any;\n\n    constructor(private coinProvider: CoinProvider,\n                private loadingCtrl: LoadingController,\n                public toastCtrl: ToastController,\n                public storage: Storage) {\n        this.loadCoin();\n    }\n\n    private initLoading() {\n        this.loading = this.loadingCtrl.create({\n            content: 'Please wait...'\n        });\n    }\n\n    private async loadCoin(refresher?) {\n        this.initLoading();\n        await this.loading.present();\n        this.coinList = await this.coinProvider.getAllCoin();\n        this.coinListFiltered = this.coinList;\n        if (refresher) refresher.complete();\n        this.loading.dismiss();\n    }\n\n    private filterCoins(val: any) {\n        return function (coin: any) {\n            return (\n                coin.name.toLowerCase().indexOf(val.toLowerCase()) > -1 ||\n                coin.symbol.toLowerCase().indexOf(val.toLowerCase()) > -1\n            );\n        };\n    }\n\n    private onInputSearch(ev: any) {\n        if (this.coinList) {\n            this.coinListFiltered = this.coinList;\n            let val = ev.target.value;\n            if (val && val.trim() !== '') {\n                this.coinListFiltered = this.coinList.filter(this.filterCoins(val));\n            }\n        }\n    }\n\n    async addToFavourite(coin) {\n        var favorites = [];\n        await this.storage.get('myFavourite').then(res => {\n            if (res == null) {\n                favorites = [];\n            } else {\n                favorites = res;\n            }\n        });\n\n        await favorites.push(coin);\n\n\n        await this.storage.set('myFavourite', this.removeDuplicates(favorites, 'id'));\n        this.presentToast();\n\n    }\n\n    removeDuplicates(myArr, prop) {\n        return myArr.filter((obj, pos, arr) => {\n            return arr.map(mapObj => mapObj[prop]).indexOf(obj[prop]) === pos;\n        });\n    }\n\n    presentToast() {\n        const toast = this.toastCtrl.create({\n            message: 'coin was added successfully',\n            duration: 3000\n        });\n        toast.present();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}